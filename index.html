<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Enrico Poli</title>
  <style>
    :root{
      --nav: hsl(0 0% 65%);
      --nav-active: #fff;
      --hdr-pad-top: 27.5px;
      --hdr-pad-x: 24px;
      --nav-size: 8.8px;
      --nav-track: 1.11px;
      --nav-gap: 13px;
      --max: 1200px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:#000;color:#fff}
    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      text-rendering:geometricPrecision;
    }

    .site-header{
      position:fixed;
      inset:0 0 auto 0;
      z-index:9999;
      padding: var(--hdr-pad-top) calc(var(--hdr-pad-x) + env(safe-area-inset-right,0px)) 12px calc(var(--hdr-pad-x) + env(safe-area-inset-left,0px));
      background:transparent;
      pointer-events:auto;
    }
    .hdr-container{max-width:var(--max);margin:0 auto}
    .site-header__row{display:flex;justify-content:flex-end;align-items:flex-start}
    .nav{display:flex;align-items:center;gap:var(--nav-gap)}
    .nav a{
      font-family:"Futura PT","futura-pt","Futura","Avenir Next","Avenir",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      font-weight:400;
      font-size:var(--nav-size);
      letter-spacing:var(--nav-track);
      text-transform:uppercase;
      line-height:1.6;
      color:var(--nav);
      text-decoration:none;
      white-space:nowrap;
      transition:color .18s ease;
    }
    .nav a:hover,.nav a.is-active{color:var(--nav-active)}

    .nav-toggle{
      display:none;
      font-family:"Futura PT","futura-pt","Futura","Avenir Next","Avenir",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      font-size:var(--nav-size);
      letter-spacing:var(--nav-track);
      text-transform:uppercase;
      color:var(--nav-active);
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.25);
      padding:8px 10px;
      border-radius:999px;
      cursor:pointer;
      -webkit-tap-highlight-color:transparent;
    }
    .nav-state{position:fixed;left:-9999px;top:-9999px;opacity:0;pointer-events:none}
    .nav-backdrop{
      position:fixed;inset:0;background:rgba(0,0,0,.55);
      opacity:0;pointer-events:none;transition:opacity .18s ease;z-index:9998;
    }
    .nav-panel{
      position:fixed;top:0;right:0;height:100vh;width:min(320px,86vw);
      padding:72px 22px 22px;background:rgba(0,0,0,.92);backdrop-filter:blur(10px);
      transform:translateX(110%);transition:transform .22s ease;z-index:10000;
      border-left:1px solid rgba(255,255,255,.08);
    }
    .nav-panel a{
      display:block;padding:14px 0;border-bottom:1px solid rgba(255,255,255,.08);
      font-family:"Futura PT","futura-pt","Futura","Avenir Next","Avenir",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      font-size:12px;letter-spacing:var(--nav-track);text-transform:uppercase;
      color:var(--nav);text-decoration:none;
    }
    .nav-panel a.is-active{color:var(--nav-active)}
    .nav-panel__close{
      position:fixed;top:18px;right:18px;z-index:10001;
      border:1px solid rgba(255,255,255,.18);background:rgba(0,0,0,.25);color:#fff;
      padding:8px 10px;border-radius:999px;cursor:pointer;
      font-family:"Futura PT","futura-pt","Futura","Avenir Next","Avenir",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      font-size:var(--nav-size);letter-spacing:var(--nav-track);text-transform:uppercase;
    }
    .nav-state:checked ~ .nav-backdrop{opacity:1;pointer-events:auto}
    .nav-state:checked ~ .nav-panel{transform:translateX(0)}

    .snap-wrap{
      height:100vh;
      overflow-y:auto;
      overflow-x:hidden;
      scroll-snap-type:y mandatory;
      scroll-behavior:smooth;
      -webkit-overflow-scrolling:touch;
    }
    .page-block{
      position:relative;
      height:100svh;
      min-height:100vh;
      scroll-snap-align:start;
      scroll-snap-stop:always;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .cover-link{
      position:absolute;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
      z-index:3;
      color:#fff;
      text-decoration:none;
      font-family: "Avenir Next", "Avenir", "Helvetica Neue", "Segoe UI", Arial, sans-serif;
      font-size: clamp(14px, 1.35vw, 20px);
      line-height:1.15;
      letter-spacing:0.05em;
      font-weight:500;
      text-transform:none;
      text-shadow: 0 1px 10px rgba(0,0,0,.30);
      display:inline-flex;
      align-items:baseline;
      justify-content:center;
      gap:0.45em;
      width:auto;
      max-width: calc(100% - 48px);
      text-align:center;
      white-space:normal;
      flex-wrap:wrap;
    }
    .cover-link .title-main{
      font-weight:500;
    }
    .cover-link .title-sub{
      font-weight:300;
      opacity:0.95;
    }
    .cover-link:visited,
    .cover-link:hover,
    .cover-link:active{
      color:#fff;
      text-decoration:none;
    }
    @media (max-width:860px){
      .cover-link{
        font-size: clamp(12px, 3.2vw, 15px);
        letter-spacing:0.04em;
        gap:0.35em;
        max-width: calc(100% - 32px);
      }
    }

.page-block img{
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center center;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      pointer-events:none;
    }


    /* Hide scrollbar (keep scrolling/snap behavior) */
    .snap-wrap{
      -ms-overflow-style:none;      /* IE/Edge */
      scrollbar-width:none;         /* Firefox */
    }
    .snap-wrap::-webkit-scrollbar{  /* Chrome/Safari */
      width:0;
      height:0;
      display:none;
    }



    .page-nav-arrows{
      position:fixed;
      inset:0;
      z-index:9997;
      pointer-events:none;
    }
    .page-nav-arrow{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      width:18px;
      height:12px;
      user-select:none;
      pointer-events:none;
      opacity:.9;
      font-size:0;
      line-height:0;
      filter:drop-shadow(0 0 2px rgba(255,255,255,.18));
    }
    .page-nav-arrow::before,
    .page-nav-arrow::after{
      content:"";
      position:absolute;
      top:4px;
      width:10px;
      height:2px;
      background:rgba(255,255,255,.88);
    }
    .page-nav-arrow::before{
      left:0;
      transform-origin:right center;
      transform:rotate(35deg);
    }
    .page-nav-arrow::after{
      right:0;
      transform-origin:left center;
      transform:rotate(-35deg);
    }
    .page-nav-arrow--up{ top:10px; transform:translateX(-50%) rotate(180deg); }
    .page-nav-arrow--down{ bottom:10px; }
    .page-nav-arrow[hidden]{ display:none !important; }
    @media (max-width:860px){
      .page-nav-arrow{ width:16px; height:10px; }
      .page-nav-arrow::before,
      .page-nav-arrow::after{ top:3px; width:9px; }
      .page-nav-arrow--up{ top:8px; }
      .page-nav-arrow--down{ bottom:8px; }
    }

    @media (max-width:860px){
      :root{--hdr-pad-x:20px;--hdr-pad-top:22px}
      .nav{display:none}
      .nav-toggle{display:inline-flex;align-items:center}
    }
  </style>
</head>
<body>
  <header class="site-header" role="banner" aria-label="Site header">
    <div class="hdr-container">
      <div class="site-header__row">
        <nav class="nav" aria-label="Primary navigation">
          <a href="/" data-key="xd">XD</a>
          <a href="https://www.enricopoli.com/films" data-key="films">FILMS</a>
          <a href="https://www.enricopoli.com/_-dream-log" data-key="dreamlog">_ DREAM LOG</a>
          <a href="https://www.enricopoli.com/journal" data-key="journal">JOURNAL</a>
          <a href="https://www.enricopoli.com/about" data-key="about">ABOUT</a>
        </nav>
        <label class="nav-toggle" id="navToggle" aria-label="Open menu" aria-expanded="false" for="navState" role="button">MENU</label>
      </div>
    </div>
  </header>

  <main class="snap-wrap" role="main" aria-label="Projects">
    <section class="page-block" id="page_block_01" aria-label="Shadows in the Valley cover">
      <a class="cover-link" href="https://xd.enricopoli.com/projects/shadows_in_the_valley/" aria-label="Open Shadows in the Valley project">
        <span class="title-main">SHADOWS IN THE VALLEY</span><span class="title-sub">/// a listening system</span>
      </a>
      <img src="./source/shadows_in_the_valley_cover.webp" alt="Shadows in the Valley cover" loading="eager" decoding="async">
    </section>
    <section class="page-block" id="page_block_02" aria-label="Beyond the Book cover">
      <a class="cover-link" href="https://xd.enricopoli.com/projects/beyond_the_book/" aria-label="Open Era Ora Beyond the Book project">
        <span class="title-main">ERA ORA &gt; BEYOND THE BOOK</span><span class="title-sub">/// on the future of work</span>
      </a>
      <img src="./source/beyond_the_book_cover.webp" alt="Beyond the Book cover" loading="lazy" decoding="async">
    </section>
  </main>

  <div class="page-nav-arrows" aria-hidden="true">
    <span class="page-nav-arrow page-nav-arrow--up" id="pageNavUp" hidden>^</span>
    <span class="page-nav-arrow page-nav-arrow--down" id="pageNavDown" hidden>v</span>
  </div>



  <input class="nav-state" type="checkbox" id="navState" aria-hidden="true" />
  <label class="nav-backdrop" for="navState" aria-hidden="true"></label>
  <aside class="nav-panel" id="navPanel" aria-hidden="true">
    <label class="nav-panel__close" id="navClose" for="navState" role="button">CLOSE</label>
    <a href="/" data-key="xd">XD</a>
    <a href="https://www.enricopoli.com/films" data-key="films">FILMS</a>
    <a href="https://www.enricopoli.com/_-dream-log" data-key="dreamlog">_ DREAM LOG</a>
    <a href="https://www.enricopoli.com/journal" data-key="journal">JOURNAL</a>
    <a href="https://www.enricopoli.com/about" data-key="about">ABOUT</a>
  </aside>

  <script>
    (function(){
      document.querySelectorAll('[data-key="xd"]').forEach(a => a.classList.add('is-active'));
      const t = document.getElementById('navToggle');
      const p = document.getElementById('navPanel');
      const s = document.getElementById('navState');
      function sync(){
        const open = !!(s && s.checked);
        if (p) p.setAttribute('aria-hidden', open ? 'false' : 'true');
        if (t) t.setAttribute('aria-expanded', open ? 'true' : 'false');
      }
      if (s) s.addEventListener('change', sync);
      sync();

      const wrap = document.querySelector('.snap-wrap');
      const blocks = wrap ? Array.from(wrap.querySelectorAll('.page-block')) : [];
      const upBtn = document.getElementById('pageNavUp');
      const downBtn = document.getElementById('pageNavDown');
      let currentIndex = 0;

      function updateArrows(){
        if (!blocks.length) return;
        if (upBtn) upBtn.hidden = currentIndex <= 0;
        if (downBtn) downBtn.hidden = currentIndex >= blocks.length - 1;
      }

      if (wrap && blocks.length){
        if ('IntersectionObserver' in window){
          const io = new IntersectionObserver(function(entries){
            let best = null;
            for (const entry of entries){
              if (!entry.isIntersecting) continue;
              if (!best || entry.intersectionRatio > best.intersectionRatio){
                best = entry;
              }
            }
            if (best){
              const i = blocks.indexOf(best.target);
              if (i !== -1){
                currentIndex = i;
                updateArrows();
              }
            }
          }, { root: wrap, threshold: [0.35, 0.55, 0.75] });
          blocks.forEach(b => io.observe(b));
        } else {
          const onScroll = function(){
            const mid = wrap.scrollTop + (wrap.clientHeight * 0.5);
            let bestIdx = 0;
            let bestDist = Infinity;
            blocks.forEach(function(b, i){
              const center = b.offsetTop + (b.offsetHeight * 0.5);
              const dist = Math.abs(center - mid);
              if (dist < bestDist){ bestDist = dist; bestIdx = i; }
            });
            currentIndex = bestIdx;
            updateArrows();
          };
          wrap.addEventListener('scroll', onScroll, { passive: true });
          onScroll();
        }
        updateArrows();
      }
    })();
  </script>
</body>
</html>
